{"version":3,"names":["main","renderTimeline","timelineContainer","document","getElementById","xCenter","width","startYear","svg","SVG","addTo","height","addClass","viewbox","years","line","totalHeight","stroke","color","year","yOffset","tickWidth","Number","isInteger","yearRounded","Math","floor","evenYear","yearString","String","xPos","text","attr","font","family","fill","size","amove","window","onload"],"sources":["main.js"],"sourcesContent":["\"use strict\";\n\nwindow.onload = () => {\n    main();\n}\n\n/**\n * Main function for JS logic\n */\nfunction main() {\n    renderTimeline();\n}\n\n/**\n * Render the timeline\n */\nfunction renderTimeline() {\n    /**\n     * Div containing the timeline svg\n     * @type {Element}\n     */\n    const timelineContainer = document.getElementById('timeline-container');\n    const heightPerc = '80%';\n    // Drawing properties\n    const width = 400;\n    const xCenter = width/2;\n    const yMargin = 5;\n    // Axis line\n    const axisLineStrokeWidth = 2;\n    const heightPerYear = 100;\n    const startYear = 2017.5;\n    const endYear = 2023;\n    const years = endYear - startYear;\n    const totalHeight = years * heightPerYear + 2 * yMargin;\n    // Axis ticks\n    const axisTickWidth = 8;\n    const axisMajorTickWidth = 16;\n    const axisTickStrokeWidth = 2.5;\n    // Axis tick labels\n    const axisTLSize = 12;\n    const axisTLXOffset = 5;\n    const axisTLYOffset = 3.9;  // center vertically manually since 'dominant-baseline' is not implemented for mobile devices\n    // Root svg tag\n    const svg =\n        SVG()\n        .addTo(timelineContainer)\n        .height(heightPerc)\n        .addClass('o-green');\n    svg.viewbox(0, 0, width, totalHeight);\n    // Timeline axis line\n    const axisLine =\n        svg\n        .line(xCenter, yMargin, xCenter, totalHeight - yMargin)\n    axisLine.stroke({\n        width: axisLineStrokeWidth,\n        color: '#FFFFFF',\n    });\n    // Timeline axis ticks and labels\n    for (let year = startYear; year <= endYear; year += 0.25) {\n        const yOffset = (year - startYear) * heightPerYear;\n        // FIXME: floating arithmetic, dangerous!\n        const tickWidth = Number.isInteger(year) ? axisMajorTickWidth : axisTickWidth;\n        const tmpLine =\n            svg.\n            line(\n                xCenter - tickWidth/2, yMargin + yOffset,\n                xCenter + tickWidth/2, yMargin + yOffset\n            );\n        tmpLine.stroke({\n            width:  axisTickStrokeWidth,\n            color: '#FFFFFF',\n        });\n        // Year label\n        if (Number.isInteger(year)) {\n            const yearRounded = Math.floor(year);\n            const evenYear = yearRounded % 2 === 0;\n            const yearString = String(yearRounded);\n            const tmpText =\n                svg\n                .text(yearString)\n                .attr({\n                    'text-anchor': evenYear ? 'end' : 'start',\n                    // 'dominant-baseline': 'middle', NOT IMPLEMENTED IN MOBILE DEVICES\n                })\n                .font({\n                    family: 'Roboto',\n                    fill: '#FFFFFF',\n                    size: axisTLSize,\n                });\n            const xPos = evenYear ?\n                xCenter - axisMajorTickWidth/2 - axisTLXOffset :\n                xCenter + axisMajorTickWidth/2 + axisTLXOffset;\n            tmpText.amove(xPos, yMargin + yOffset + axisTLYOffset);\n        }\n    }\n}\n"],"mappings":"AAAA,aASA,SAASA,OACLC,gBACH,CAKD,SAASA,iBAKL,IAAMC,EAAoBC,SAASC,eAAe,sBAI5CC,EAAUC,IAKVC,EAAY,OAaZC,EACFC,MACCC,MAAMR,GACNS,OAxBc,OAyBdC,SAAS,WACdJ,EAAIK,QAAQ,EAAG,EAxBD,IASMC,KAkBhBN,EACCO,KAAKV,EA1BM,EA0BYA,EAASW,KAC5BC,OAAO,CACZX,MA1BwB,EA2BxBY,MAAO,YAGX,IAAK,IAAIC,EAAOZ,EAAWY,GA3BX,KA2B4BA,GAAQ,IAAM,CACtD,IAAMC,EA9BY,KA8BDD,EAAOZ,GAElBc,EAAYC,OAAOC,UAAUJ,GAzBZ,GADL,EAsClB,GAVIX,EACAO,KACIV,EAAUgB,EAAU,EAvChB,EAuC6BD,EACjCf,EAAUgB,EAAU,EAxChB,EAwC6BD,GAEjCH,OAAO,CACXX,MAhCoB,IAiCpBY,MAAO,YAGPI,OAAOC,UAAUJ,GAAO,CACxB,IAAMK,EAAcC,KAAKC,MAAMP,GACzBQ,EAAWH,EAAc,GAAM,EAC/BI,EAAaC,OAAOL,GAapBM,EAAOH,EACTtB,IACAA,IAbAG,EACCuB,KAAKH,GACLI,KAAK,CACF,cAAeL,EAAW,MAAQ,UAGrCM,KAAK,CACFC,OAAQ,SACRC,KAAM,UACNC,KAhDG,KAqDHC,MAAMP,EAlEN,EAkEsBV,EAnDhB,IAoDjB,CACJ,CACJ,CA7FDkB,OAAOC,OAAS,WACZvC,MACH"}