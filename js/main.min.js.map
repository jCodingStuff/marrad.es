{"version":3,"names":["main","renderTimeline","timelineContainer","document","getElementById","xCenter","width","yMargin","heightPerYear","startYear","svg","SVG","addTo","height","addClass","viewbox","years","axis","group","line","totalHeight","stroke","color","year","yOffset","tickWidth","Number","isInteger","yearRounded","Math","floor","evenYear","yearString","String","xPos","plain","attr","font","family","fill","size","amove","xOffset","axisMajorTickWidth","distance","renderTimelineBlob","direction","imgSrc","diameterMult","url","circXCenter","circYCenter","arrowPointerStartX","arrowPointerEndX","blobImageClass","blobCircleClass","default_opacity","default_translation","blob","arrow","polygon","concat","arrowPointerHeight","link","target","tmpCircle","circle","center","tmpImage","image","event","move","blobAnim","ele","o","tx","animate","opacity","transform","translateX","mouseover","relatedTarget","classList","mouseout","explicitOriginalTarget","window","onload"],"sources":["main.js"],"sourcesContent":["\"use strict\";\n\nwindow.onload = () => {\n    main();\n}\n\n/**\n * Main function for JS logic\n */\nfunction main() {\n    renderTimeline();\n}\n\n/**\n * Render the timeline\n */\nfunction renderTimeline() {\n    /**\n     * Div containing the timeline svg\n     * @type {Element}\n     */\n    const timelineContainer = document.getElementById('timeline-container');\n    const heightPerc = '85%';\n    // Drawing properties\n    const width = 320;\n    const xCenter = width/2;\n    const yMargin = 10;\n    // Axis line\n    const axisLineStrokeWidth = 2;\n    const heightPerYear = 100;\n    const startYear = 2017.5;\n    const endYear = 2023;\n    const years = endYear - startYear;\n    const totalHeight = years * heightPerYear + 2 * yMargin;\n    // Axis ticks\n    const axisTickWidth = 8;\n    const axisMajorTickWidth = 16;\n    const axisTickStrokeWidth = 2.5;\n    // Axis tick labels\n    const axisTLSize = 12;\n    const axisTLXOffset = 5;\n    const axisTLYOffset = 4.15;  // center vertically manually since 'dominant-baseline' is not implemented for mobile devices\n    // Root svg tag\n    const svg =\n        SVG()\n        .addTo(timelineContainer)\n        .height(heightPerc)\n        .addClass('o-green');\n    svg.viewbox(0, 0, width, totalHeight);\n    // Timeline axis\n    const axis = svg.group();\n    // Timeline axis line\n    const axisLine =\n        axis\n        .line(xCenter, yMargin, xCenter, totalHeight - yMargin)\n    axisLine.stroke({\n        width: axisLineStrokeWidth,\n        color: '#FFFFFF',\n    });\n    // Timeline axis ticks and labels\n    for (let year = startYear; year <= endYear; year += 0.25) {\n        const yOffset = (year - startYear) * heightPerYear;\n        // FIXME: floating arithmetic, dangerous!\n        const tickWidth = Number.isInteger(year) ? axisMajorTickWidth : axisTickWidth;\n        const tmpLine =\n            axis.\n            line(\n                xCenter - tickWidth/2, yMargin + yOffset,\n                xCenter + tickWidth/2, yMargin + yOffset\n            );\n        tmpLine.stroke({\n            width:  axisTickStrokeWidth,\n            color: '#FFFFFF',\n        });\n        // Year label\n        if (Number.isInteger(year)) {\n            const yearRounded = Math.floor(year);\n            const evenYear = yearRounded % 2 === 0;\n            const yearString = String(yearRounded);\n            const tmpText =\n                axis\n                .plain(yearString)\n                .attr({\n                    'text-anchor': evenYear ? 'end' : 'start',\n                    // 'dominant-baseline': 'middle', NOT IMPLEMENTED IN MOBILE DEVICES\n                })\n                .font({\n                    family: 'Roboto',\n                    fill: '#FFFFFF',\n                    size: axisTLSize,\n                });\n            const xPos = evenYear ?\n                xCenter - axisMajorTickWidth/2 - axisTLXOffset :\n                xCenter + axisMajorTickWidth/2 + axisTLXOffset;\n            tmpText.amove(xPos, yMargin + yOffset + axisTLYOffset);\n        }\n    }\n    // Render blobs\n    const xOffset = axisMajorTickWidth/2 + 5;\n    const distance = 100;\n    renderTimelineBlob(  // UM\n        svg,\n        yMargin,\n        xCenter,\n        startYear,\n        heightPerYear,\n        xOffset,\n        distance,\n        'right',\n        2017.75,\n        'assets/svg/um_logo.svg',\n        0.5, \n        'https://www.maastrichtuniversity.nl/education/bachelor/data-science-and-artificial-intelligence'\n    );\n    renderTimelineBlob(  // InterUM\n        svg,\n        yMargin,\n        xCenter,\n        startYear,\n        heightPerYear,\n        xOffset,\n        distance,\n        'left',\n        2017.75,\n        'assets/png/interum_logo.png',\n        0.75, \n        'https://www.maastrichtuniversity.nl/maastricht-university-ambassadors-team'\n    );\n    renderTimelineBlob(  // APG\n        svg,\n        yMargin,\n        xCenter,\n        startYear,\n        heightPerYear,\n        xOffset,\n        distance,\n        'left',\n        2018.6,\n        'assets/svg/apg_logo.svg',\n        0.67,\n        'https://apg.nl/en/about-apg/groeifabriek/'\n    );\n    renderTimelineBlob(  // UU\n        svg,\n        yMargin,\n        xCenter,\n        startYear,\n        heightPerYear,\n        xOffset,\n        distance,\n        'left',\n        2020.75,\n        'assets/svg/uu_logo.svg',\n        0.75,\n        'http://www.it.uu.se/education/master_programmes/computational_science'\n    );\n    renderTimelineBlob(  // VSP lab\n        svg,\n        yMargin,\n        xCenter,\n        startYear,\n        heightPerYear,\n        xOffset,\n        distance,\n        'right',\n        2021.75,\n        'assets/svg/water_molecule.svg',\n        0.75,\n        'https://folding.bmc.uu.se/'\n    );\n    renderTimelineBlob(  // Dedalo\n        svg,\n        yMargin,\n        xCenter,\n        startYear,\n        heightPerYear,\n        xOffset,\n        distance,\n        'right',\n        2022.60,\n        'assets/svg/dedalo_logo.svg',\n        0.65,\n        'https://dedalo.dev/'\n    );\n    renderTimelineBlob(  // MIB\n        svg,\n        yMargin,\n        xCenter,\n        startYear,\n        heightPerYear,\n        xOffset,\n        distance,\n        'left',\n        2022.75,\n        'assets/png/mib_coin.png',\n        0.75,\n        'https://monedaiberica.org/?lang=lg-eng'\n    );\n    renderTimelineBlob(  // EdLab\n        svg,\n        yMargin,\n        xCenter,\n        startYear,\n        heightPerYear,\n        xOffset,\n        distance,\n        'right',\n        2018.75,\n        'assets/jpg/edlab_logo.jpg',\n        0.5,\n        'https://edlab.nl/excellence/honoursplus/'\n    );\n}\n\n/**\n * \n * @param svg the SVG.js SVG object \n * @param {number} yMargin y margin of the drawing\n * @param {number} xCenter the width center\n * @param {number} startYear the start year of the axis\n * @param {number} heightPerYear height per year\n * @param {number} xOffset the x-offset for the positioning\n * @param {number} distance the x-distance of the circle center\n * @param {'left' | 'right'} direction the direction of the blob\n * @param {number} year year of the blob\n * @param {string} imgSrc image source for the blob\n * @param {number} diameterMult diameter multiplier for resizing\n * @param {string} url web link for the blob\n */\nfunction renderTimelineBlob(\n    svg,\n    yMargin,\n    xCenter,\n    startYear,\n    heightPerYear,\n    xOffset,\n    distance,\n    direction,\n    year,\n    imgSrc,\n    diameterMult,\n    url\n) {\n    // Properties\n    const diameter = 70;\n    const circXCenter = direction === 'right' ?\n        xCenter + xOffset + distance :\n        xCenter - xOffset - distance;\n    const circYCenter = yMargin + (year - startYear) * heightPerYear;\n    const arrowPointerWidth = 16;\n    const arrowPointerHeight = 12;\n    const arrowLineStrokeWidth = 3.5;\n    const arrowPointerStartX = direction === 'right' ?\n        xCenter + xOffset : xCenter - xOffset;\n    const arrowPointerEndX = direction === 'right' ?\n        arrowPointerStartX + arrowPointerWidth :\n        arrowPointerStartX - arrowPointerWidth;\n    const blobImageClass = 'blob-img';\n    const blobCircleClass = 'blob-circ';\n    const default_opacity = 0.85;\n    const default_translation = direction === 'right' ? 4 : -4;\n    // Group for all the blob\n    const blob = svg.group();\n    // The arrow\n    const arrow = blob.group();\n    const arrowLine =\n        arrow.line(\n            direction === 'right' ?\n                circXCenter - distance + arrowPointerWidth :\n                circXCenter + distance - arrowPointerWidth,\n            circYCenter,\n            circXCenter,\n            circYCenter\n        );\n    arrowLine.stroke({\n        width: arrowLineStrokeWidth,\n        color: '#FFFFFF',\n    });\n    const arrowPointer =\n        arrow\n        .polygon(\n            `${arrowPointerStartX},${circYCenter} ` +\n            `${arrowPointerEndX},${circYCenter+arrowPointerHeight/2} ` +\n            `${arrowPointerEndX},${circYCenter-arrowPointerHeight/2}`\n        )\n        .fill('#FFFFFF');\n    // The circle and picture\n    const link = blob.link(url);\n    link.target('_blank');\n    const tmpCircle =\n        link\n        .circle(diameter)\n        .addClass(blobCircleClass)\n        .fill('#FFFFFF')\n        .center(circXCenter, circYCenter)\n    const tmpImage = link.image(imgSrc, (event) => {\n        tmpImage.size(diameter*diameterMult);\n        tmpImage.addClass(blobImageClass);\n        tmpImage.move(circXCenter-tmpImage.width()/2, circYCenter-tmpImage.height()/2);\n    });\n    // Opacity (a LOT of hacking here to prevent events firing twice)\n    const blobAnim = (ele, o, tx) => {\n        ele\n        .animate(250)\n        .opacity(o)\n        .transform({\n            translateX:  tx,\n        });\n    };\n    blob.opacity(default_opacity);\n    tmpCircle.mouseover((event) => {\n        // Skip event if we move from the inner image\n        if (event.relatedTarget.classList[0] === blobImageClass) {\n            return;\n        }\n        blobAnim(blob, 1, default_translation);\n    });\n    tmpCircle.mouseout((event) => {\n        // Skip event if we move into the inner image\n        if (event.explicitOriginalTarget.classList[0] === blobImageClass) {\n            return;\n        }\n        blobAnim(blob, default_opacity, 0);\n    });\n    tmpImage.mouseover((event) => {\n        // Skip event if we move from the outer circle\n        if (event.relatedTarget.classList[0] === blobCircleClass) {\n            return;\n        }\n        blobAnim(blob, 1, default_translation);\n    });\n    tmpImage.mouseout((event) => {\n        // Skip event if we move into the outer circle\n        if (event.explicitOriginalTarget.classList[0] === blobImageClass) {\n            return;\n        }\n        blobAnim(blob, default_opacity, 0);\n    });\n}\n"],"mappings":"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"}